listeners:
  - name: http_default
    protocol: http
    address: 0.0.0.0:80

providers:
  - name: conjur
    configuration:
      - name: url
        value:
          environment: CONJUR_APPLIANCE_URL
      - name: account
        value:
          environment: CONJUR_ACCOUNT
    credentials:
      - name: username
        value:
          environment: CONJUR_AUTHN_LOGIN
      - name: apiKey
        value:
          environment: CONJUR_AUTHN_API_KEY

handlers:
  - name: conjur
    listener: http_default
    debug: true
    authorization:
      none: true
    match:
      - ^http\:\/\/conjur\/
    credentials:
      - name: accessToken
        value:
          provider: conjur
          id: accessToken
